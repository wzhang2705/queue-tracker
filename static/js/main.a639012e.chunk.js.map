{"version":3,"sources":["Profile.js","Signin.js","Map.js","Store.js","Queue.js","App.js","index.js"],"names":["Profile","props","state","person","name","this","handleSignOut","userSession","isSignInPending","className","id","src","alt","type","placeholder","to","onClick","bind","setState","Person","loadUserData","profile","Component","Signin","handleSignIn","img","width","mapStyles","margin","height","textStyle","fontSize","MapContainer","displayMarkers","stores","map","store","index","key","draggable","position","lat","latitude","lng","longitude","onMarkerClick","showingInfoWindow","activeMarker","selectedPlace","userInput","marker","e","document","getElementById","value","console","log","google","zoom","style","initialCenter","visible","GoogleApiWrapper","apiKey","Store","Map","Queue","enqueue","dequeue","quantity","capacity","leftqueue","joinedqueue","window","alert","appConfig","AppConfig","UserSession","App","preventDefault","redirectToSignIn","signUserOut","location","origin","path","exact","component","isUserSignedIn","handlePendingSignIn","then","userData","history","replaceState","title","ReactDOM","render"],"mappings":"0eAMqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAEDC,MAAQ,CACXC,OAAQ,CACPC,KADO,WAEH,MAAO,eANI,E,qDAYT,IAAD,EACgCC,KAAKJ,MAApCK,EADD,EACCA,cAAeC,EADhB,EACgBA,YACfJ,EAAWE,KAAKH,MAAhBC,OACR,OACGI,EAAYC,kBA6BJ,KA5BT,yBAAKC,UAAU,gBAAgBC,GAAG,aAChC,yBAAKD,UAAU,kBACb,yBAAKE,IAAI,QAAQF,UAAU,qBAAqBC,GAAG,eAAeE,IAAI,MAExE,4CAAiB,0BAAMF,GAAG,gBAAiBP,EAAOC,OAASD,EAAOC,OAAS,KAA3E,KACA,yGACA,6BACE,2BAAOA,KAAK,WAAWS,KAAK,OAAOH,GAAG,WAAWI,YAAY,qBAE/D,6BACE,6BAEF,uBAAGL,UAAU,QACb,kBAAC,IAAD,CAAMM,GAAG,UACP,4BACEN,UAAU,0BADZ,WAMA,4BACEA,UAAU,yBACVC,GAAG,iBACHM,QAAUV,EAAcW,KAAKZ,OAH/B,c,2CAYc,IACZE,EAAgBF,KAAKJ,MAArBM,YACRF,KAAKa,SAAS,CACZf,OAAQ,IAAIgB,SAAOZ,EAAYa,eAAeC,e,GArDfC,aCJhBC,E,uKAET,IACAC,EAAiBnB,KAAKJ,MAAtBuB,aAER,OACE,yBAAKf,UAAU,gBAAgBC,GAAG,aAChC,yBAAKD,UAAU,OAAOgB,KAAG,EAACd,IAAI,QAAQC,IAAI,GAAGc,MAAM,QACnD,uBAAGjB,UAAU,QACX,4BACEA,UAAU,yBACVC,GAAG,gBACHM,QAAUQ,EAAaP,KAAKZ,OAH9B,4BASF,iC,GAlB4BiB,a,gBCC9BK,EAAY,CACdC,OAAQ,MACRF,MAAO,MACPG,OAAQ,OAGNC,EAAY,CACdC,SAAU,IAGDC,EAAb,kDACI,WAAY/B,GAAQ,IAAD,8BACf,cAAMA,IAmBVgC,eAAiB,WACb,OAAO,EAAK/B,MAAMgC,OAAOC,KAAI,SAACC,EAAOC,GACnC,OAAO,kBAAC,SAAD,CAAQC,IAAKD,EAAO3B,GAAI2B,EAAOE,WAAW,EAAMC,SAAU,CAChEC,IAAKL,EAAMM,SACXC,IAAKP,EAAMQ,WAEb5B,QAAS,EAAK6B,cACdzC,KAAM,eAzBP,EAAKyC,cAAgB,EAAKA,cAAc5B,KAAnB,gBACrB,EAAKf,MAAQ,CACT4C,mBAAmB,EACnBC,aAAc,GACdC,cAAe,GACfd,OAAQ,CAAC,CAACQ,SAAU,UAAWE,WAAY,YAC3CK,UAAW,IARA,EADvB,0DAakBhD,EAAOiD,EAAQC,GACzB9C,KAAKa,SAAS,CACV8B,cAAe/C,EACf8C,aAAcG,EACdJ,mBAAmB,MAjB/B,uCAiCQzC,KAAK4C,UAAYG,SAASC,eAAe,YAAYC,MACrDC,QAAQC,IAAInD,KAAK4C,WACjB5C,KAAK6B,OAAS,CAAC,CAACQ,SAAU,UAAWE,WAAY,cAnCzD,+BAsCQ,OACI,6BAEI,kBAAC,MAAD,CAAKa,OAAQpD,KAAKJ,MAAMwD,OACpBC,KAAM,EACNC,MAAOhC,EACPiC,cAAe,CAAEnB,IAAK,QAASE,KAAM,UAEpCtC,KAAK4B,iBACN,kBAAC,aAAD,CACIiB,OAAQ7C,KAAKH,MAAM6C,aACnBc,QAASxD,KAAKH,MAAM4C,mBAEpB,6BACI,wBAAIa,MAAO7B,GAAYzB,KAAKH,MAAM8C,cAAc5C,cApD5E,GAAkCkB,aA6DnBwC,6BAAiB,CAC5BC,OAAS,2CADED,CAEV9B,GCxEgBgC,E,uKAGjB,OACG,6BACG,iCACA,iCACA,iCACA,iCACA,iCACA,yBAAKvD,UAAU,kBACb,yBAAKE,IAAI,QAAQF,UAAU,qBAAqBC,GAAG,eAAeE,IAAI,MAExE,qCACC,iDAED,kBAAC,IAAD,CAAMG,GAAG,gBACT,4BACEN,UAAU,0BADZ,wBAOA,kBAAC,IAAD,CAAMM,GAAG,IACP,4BACIN,UAAU,0BADd,SAMF,6BACA,kBAACwD,EAAD,OAEA,iCACA,iCACA,iCACA,iCACA,iCACA,sC,GAvCyB3C,aCMd4C,E,kDACjB,WAAYjE,GAAQ,IAAD,8BACf,cAAMA,IACDkE,QAAU,EAAKA,QAAQlD,KAAb,gBACf,EAAKmD,QAAU,EAAKA,QAAQnD,KAAb,gBACf,EAAKf,MAAQ,CAAEmE,SAAU,EACTC,SAAU,IACVC,WAAW,EACXC,aAAa,GAPd,E,oDAUXvE,EAAOC,GACiB,GAAxBG,KAAKH,MAAMqE,UAIXlE,KAAKa,UAAS,SAAChB,GACX,MAAO,CAACmE,SAAUnE,EAAMmE,SAAW,EAC3BE,WAAW,EACXC,aAAa,MANzBC,OAAOC,MAAM,uC,8BAYbzE,EAAOC,GACmB,GAA1BG,KAAKH,MAAMsE,YAIXnE,KAAKa,UAAS,SAAChB,GACX,MAAO,CAACmE,SAAUnE,EAAMmE,SAAW,EAC3BE,WAAW,EACXC,aAAa,MANzBC,OAAOC,MAAM,qC,+BAajB,OACA,6BACI,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,yBAAKjE,UAAU,kBACf,yBAAKE,IAAI,QAAQF,UAAU,qBAAqBC,GAAG,eAAeE,IAAI,MAEtE,mFACA,4EACA,uBAAGH,UAAU,UAAUJ,KAAKH,MAAMoE,SAAlC,MAA+CjE,KAAKH,MAAMmE,UAC1D,4BAAQ5D,UAAU,0BACVO,QAASX,KAAK8D,SADtB,cAKA,4BAAQ1D,UAAU,0BACVO,QAASX,KAAK+D,SADtB,eAKA,kBAAC,IAAD,CAAMrD,GAAG,UACT,4BACIN,UAAU,0BADd,SAMA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,sC,GAhFuBa,a,OCE7BqD,EAAY,IAAIC,YAChBrE,EAAc,IAAIsE,cAAY,CAAEF,UAAWA,IAE5BG,E,2KAGN3B,GACXA,EAAE4B,iBACFxE,EAAYyE,qB,oCAGA7B,GACZA,EAAE4B,iBACFxE,EAAY0E,YAAYR,OAAOS,SAASC,U,+BAIxC,OACE,kBAAC,IAAD,KACA,yBAAK1E,UAAU,gBACb,yBAAKA,UAAU,sBACf,kBAAC,IAAD,KACK,kBAAC,IAAD,CAAO2E,KAAK,SAASC,OAAK,EAACC,UAAWtB,IACtC,kBAAC,IAAD,CAAOoB,KAAK,eAAeC,OAAK,EAACC,UAAWpB,KAE5C3D,EAAYgF,iBAEX,kBAAC,EAAD,CAAShF,YAAaA,EAAaD,cAAgBD,KAAKC,gBAD1D,kBAAC,EAAD,CAAQC,YAAaA,EAAaiB,aAAenB,KAAKmB,oB,0CAS3C,IAAD,OACdjB,EAAYC,mBACdD,EAAYiF,sBAAsBC,MAAK,SAACC,GACtCjB,OAAOkB,QAAQC,aAAa,GAAIxC,SAASyC,MAAO,KAChD,EAAK3E,SAAS,CAAEwE,SAAUA,W,GApCDpE,a,OCNjCwE,IAASC,OAAO,kBAAC,IAAD,KAAe,kBAAC,EAAD,OAAyB3C,SAASC,eAAe,W","file":"static/js/main.a639012e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {\r\n  Person,\r\n} from 'blockstack';\r\n\r\nexport default class Profile extends Component {\r\n  constructor(props) {\r\n  \tsuper(props);\r\n\r\n  \tthis.state = {\r\n  \t  person: {\r\n  \t  \tname() {\r\n          return 'Anonymous';\r\n        },\r\n  \t  },\r\n  \t};\r\n  }\r\n\r\n  render() {\r\n    const { handleSignOut, userSession } = this.props;\r\n    const { person } = this.state;\r\n    return (\r\n      !userSession.isSignInPending() ?\r\n      <div className=\"panel-welcome\" id=\"section-2\">\r\n        <div className=\"avatar-section\">\r\n          <img src=\"q.svg\" className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\r\n        </div>\r\n        <h2>Welcome to Q <span id=\"heading-name\">{ person.name() ? person.name() : '!' }</span>!</h2>\r\n        <h6>An online queue tracker for grocery stores to maintain social distancing.</h6>\r\n        <div>\r\n          <input name=\"mySearch\" type='text' id=\"mySearch\" placeholder='Search Places..'/>\r\n        </div>\r\n        <div>\r\n          <p></p>\r\n        </div>\r\n        <p className=\"lead\">\r\n        <Link to='/Store'>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n          >\r\n            Search\r\n          </button>\r\n          </Link>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            id=\"signout-button\"\r\n            onClick={ handleSignOut.bind(this) }\r\n          >\r\n            Logout\r\n          </button>\r\n        </p>\r\n      </div> : null\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { userSession } = this.props;\r\n    this.setState({\r\n      person: new Person(userSession.loadUserData().profile),\r\n    });\r\n  }\r\n} \r\n","import React, { Component } from 'react';\r\n\r\nexport default class Signin extends Component {\r\n\r\n  render() {\r\n    const { handleSignIn } = this.props;\r\n\r\n    return (\r\n      <div className=\"panel-landing\" id=\"section-1\">\r\n        <img className=\"logo\" img src=\"q.svg\" alt=\"\" width=\"250\"></img>\r\n        <p className=\"lead\">\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            id=\"signin-button\"\r\n            onClick={ handleSignIn.bind(this) }\r\n          >\r\n            Sign In with Blockstack\r\n          </button>\r\n        </p>\r\n\r\n        <p>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Map, InfoWindow, GoogleApiWrapper, Marker } from 'google-maps-react';\r\n\r\nconst mapStyles = {\r\n    margin: '10%',\r\n    width: '80%',\r\n    height: '90%'\r\n};\r\n\r\nconst textStyle = {\r\n    fontSize: 20\r\n}\r\n\r\nexport class MapContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onMarkerClick = this.onMarkerClick.bind(this);\r\n        this.state = {\r\n            showingInfoWindow: false,\r\n            activeMarker: {},\r\n            selectedPlace: {},\r\n            stores: [{latitude: 43.707219, longitude: -79.348359}],\r\n            userInput: '',\r\n        };\r\n    }\r\n\r\n    onMarkerClick(props, marker, e) {\r\n        this.setState({\r\n            selectedPlace: props,\r\n            activeMarker: marker,\r\n            showingInfoWindow: true\r\n        });\r\n    }\r\n    \r\n    displayMarkers = () => {\r\n        return this.state.stores.map((store, index) => {\r\n          return <Marker key={index} id={index} draggable={true} position={{\r\n           lat: store.latitude,\r\n           lng: store.longitude,\r\n         }}\r\n         onClick={this.onMarkerClick}\r\n         name={\"Costco\"} />\r\n        })\r\n    }\r\n\r\n    searchFunction() {\r\n        this.userInput = document.getElementById(\"mySearch\").value;\r\n        console.log(this.userInput)\r\n        this.stores = [{latitude: 43.707219, longitude: -79.348359}]\r\n      }\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n                <Map google={this.props.google}\r\n                    zoom={8}\r\n                    style={mapStyles}\r\n                    initialCenter={{ lat: 43.4723, lng: -80.5449}}\r\n                >\r\n                    {this.displayMarkers()}\r\n                    <InfoWindow\r\n                        marker={this.state.activeMarker}\r\n                        visible={this.state.showingInfoWindow}\r\n                    >\r\n                        <div>\r\n                            <h1 style={textStyle}>{this.state.selectedPlace.name}</h1>\r\n                        </div>\r\n                    </InfoWindow>\r\n                </Map>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCBSx2OWim81bEjserr-nkAhLJuHj18kjQ')\r\n  })(MapContainer)\r\n\r\n  /*\r\n  <div>\r\n                    <input name=\"mySearch\" type='text' id=\"mySearch\" placeholder='Search Places..'/>\r\n                    <button onclick=\"searchFunction()\">Search</button>\r\n                    \r\n                </div>\r\n                */\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport MapContainer from './Map.js'\r\n \r\nexport default class Store extends Component {\r\n\r\n  render () {\r\n    return (\r\n       <div>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <div className=\"avatar-section\">\r\n            <img src=\"q.svg\" className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\r\n            </div>\r\n          <h1>Store</h1>\r\n           <p>Welcome to Costco!</p>\r\n           \r\n          <Link to='/Store/Queue'>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            \r\n          >\r\n            View Costco's Queue\r\n          </button>\r\n          </Link>\r\n          <Link to=''>\r\n            <button\r\n                className=\"btn btn-primary btn-lg\"\r\n            >\r\n                Back\r\n            </button>\r\n            </Link>\r\n          <div>\r\n          <MapContainer />\r\n        </div>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n          <h3>.</h3>\r\n       </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Store from './Store.js';\r\n\r\nconst textStyle = {\r\n    fontSize: 20\r\n}\r\nconst leftAlready = <h1 style={textStyle}>You already left the queue!</h1>\r\nconst joinedAlready = <h1 style={textStyle}>You already joined the queue!</h1>\r\n\r\nexport default class Queue extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.enqueue = this.enqueue.bind(this);\r\n        this.dequeue = this.dequeue.bind(this);\r\n        this.state = { quantity: 1,\r\n                        capacity: 200,\r\n                        leftqueue: false, \r\n                        joinedqueue: false};\r\n    }\r\n    \r\n    enqueue(props, state) { //increments queue number\r\n        if (this.state.leftqueue == true) {\r\n            window.alert(\"You have already joined the queue\");\r\n            return; //if the person has already left the queue, display a message indicating an error (display message leftAlready)\r\n        } else {\r\n            this.setState((state) => {\r\n                return {quantity: state.quantity + 1,\r\n                        leftqueue: true,\r\n                        joinedqueue: false\r\n                }\r\n            });\r\n        }   \r\n    }\r\n\r\n    dequeue(props, state) { //increments queue number\r\n        if (this.state.joinedqueue == true) {\r\n            window.alert(\"You have already left the queue\");\r\n            return; //if the person has already joined the queue, display a message indicating an error (display message joinedAlready)\r\n        } else {\r\n            this.setState((state) => {\r\n                return {quantity: state.quantity - 1,\r\n                        leftqueue: false,\r\n                        joinedqueue: true\r\n                }\r\n            });\r\n        }   \r\n    }\r\n\r\n    render () {\r\n        return (\r\n        <div>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <div className=\"avatar-section\">\r\n            <img src=\"q.svg\" className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\r\n            </div>\r\n            <h1>Costco (42 Overlea Blvd, Toronto, ON M4H 1B6) Queue</h1>\r\n            <h4>Current Capacity       |       Current Queue</h4>\r\n            <p className=\"number\">{this.state.capacity} | {this.state.quantity}</p>\r\n            <button className=\"btn btn-primary btn-are\"\r\n                    onClick={this.enqueue} //calls this.enqueue\r\n            > \r\n                Join Queue\r\n            </button>\r\n            <button className=\"btn btn-primary btn-are\"\r\n                    onClick={this.dequeue} //calls this.dequeue\r\n            >\r\n                Leave Queue\r\n            </button>\r\n            <Link to='/Store'>\r\n            <button\r\n                className=\"btn btn-primary btn-lg\"\r\n            >\r\n                Back\r\n            </button>\r\n            </Link>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n            <h3>.</h3>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport Store from './Store.js';\nimport Queue from './Queue.js';\n\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nconst appConfig = new AppConfig()\nconst userSession = new UserSession({ appConfig: appConfig })\n\nexport default class App extends Component {\n\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    return (    \n      <BrowserRouter>\n      <div className=\"site-wrapper\">\n        <div className=\"site-wrapper-inner\">\n        <Switch>\n             <Route path=\"/Store\" exact component={Store}/>\n             <Route path=\"/Store/Queue\" exact component={Queue}/>\n           </Switch>\n          { !userSession.isUserSignedIn() ?\n            <Signin userSession={userSession} handleSignIn={ this.handleSignIn } />\n            : <Profile userSession={userSession} handleSignOut={ this.handleSignOut } />\n          }\n        </div>\n      </div>\n      </BrowserRouter>\n    );\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.js';\n\n// Require Sass file so webpack can build it\n// import 'bootstrap/dist/css/bootstrap.css';\nimport'./styles/style.css';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n"],"sourceRoot":""}